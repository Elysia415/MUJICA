# MUJICA - NeurIPS 2024 深度洞察与报告生成智能体

**(Multi-stage User-Judged Integration & Corroboration Architecture)**

## 1. 项目核心愿景

构建一个专注于 **各大AI会议论文** 的垂直领域专家 Agent。该系统不依赖通用搜索引擎，而是通过 **OpenReview API** 获取该会议的全量投稿、评审意见及决策逻辑，构建本地化的“全知”知识库。用户可以通过自然语言指令，生成关于 AI 前沿趋势的深度调研报告。

---

## 2. 系统架构 (Architecture)

本项目采用“**云端大脑 + 本地全量知识库**”的混合架构。

### 数据层：全量领域知识库 (The Domain Brain)
- **数据源**：OpenReview API V2
- **数据内容**：
    - **Paper Metadata**：标题、作者、摘要、关键词、TL;DR。
    - **Full Text**：下载 PDF 并解析后的纯文本。
    - **Reviews (亮点)**：审稿人的评分、修改意见、领域主席 (Meta Reviewer) 的决策理由。
- **存储技术**：
    - **向量库**：LanceDB (存储语义索引)。
    - **元数据库**：Pandas DataFrame / SQLite (存储结构化数据)。

### 逻辑层：MUJICA 四阶段工作流

#### 阶段一：规划与校验 (Planner & Verifier)
- **输入**：用户指令（例：“分析今年在大语言模型对齐方面的技术路线差异”）。
- **动作**：Planner 调用 LLM API，结合数据库宏观统计，生成层级化大纲。
- **交互**：用户可修改或确认大纲。

#### 阶段二：研究与构建 (Researcher & Builder)
- **动作**：
    - **结构化检索**：基于 Pandas 进行过滤（如 `rating > 6`）。
    - **语义检索**：在 LanceDB 中搜索 Chunk。
    - **全上下文阅读**：筛选 Top-20 核心论文，包含审稿意见，生成“中间态笔记”。

#### 阶段三：循证写作 (Evidence-Based Writer)
- **动作**：基于笔记撰写报告，每条论断强制标注来源 `[Paper ID]`。风格为客观学术综述。

#### 阶段四：核查与交付 (Verifier & Delivery)
- **动作**：幻觉检测（NLI 比对），UI 交付（双栏溯源）。

---

## 3. 技术栈 (Tech Stack)

- **数据获取**：`openreview-py`, `requests`
- **PDF 解析**：`PyPDF2` / `pdfplumber`
- **数据存储**：`lancedb` (向量), `pandas` (元数据)。
- **大模型接口**：`openai` SDK (兼容 DeepSeek / Google Gemini / GPT-4)。
- **Web 界面**：`streamlit`
- **环境管理**：`python-dotenv`

## 4. 快速开始 (Quick Start)

### 安装依赖
```bash
pip install -r requirements.txt
```

### 配置环境
复制 `.env.example` 到 `.env` 并填入 API Key：
```bash
cp .env.example .env
```

### 运行应用
```bash
streamlit run ui/app.py
```
